<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>jQTouch &beta;</title>
        <style type="text/css" media="screen">@import "stylesheets/jqtouch.min.css";</style>
        <style type="text/css" media="screen">@import "stylesheets/theme.min.css";</style>
        <style>
          .up, .down {
            font-size: 150%;
            padding: 0 20px
          }
          .up {
            color: green;
          }
          .down {
            color: red;
          }
          .piece {
            display: inline-block;
            margin: 2px;
            width: 13px;
            height: 13px;
            background-color: cyan;
          }
          .piece.player1 {
            background-color: red;
            background-image: url(../img/icon-dog.png);
          }
          .piece.player2 {
            background-color: green;
            background-image: url(../img/icon-whale.png);
          }
          .piece.player1.player2 {
            background-color: purple
          }

        </style>
        <script src="js/jquery.1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/jqtouch.min.js" type="application/x-javascript" charset="utf-8"></script>
        <!-- 
            jQTouch Clock Demo
            All custom code is embedded below:
        -->
        <script type="text/javascript" charset="utf-8">
            $.jQTouch({
                icon: 'icon.png',
                startupScreen: 'img/startup.png'
            });
            $(function(){
              var htmlPiece = '';
              htmlPiece += '<span class="piece"></span>';
              for(i=0;i<120;i++) {
                $('#cribbageBoard').append('<span class="piece" id="piece'+i+'"></span>');
              }
              $('#players li').each(function(i,E) {
                $('#cribbageBoard #piece0').addClass($(this).attr('id'));
              });
              

              $('.up').click(function() {
                var oldScore = parseInt($(this).siblings('.score').text());
                oldScore = oldScore + 1;
                if (oldScore > 120) {
                  $(this).siblings('.score').text('Wins!');
                  $('.up, .down').hide();
                } else {
                  $(this).siblings('.score').text(oldScore);
                  $('#cribbageBoard .piece').removeClass($(this).parent().attr('id'));
                  $('#cribbageBoard #piece'+oldScore).addClass($(this).parent().attr('id'));
                }
              });
              $('.down').click(function() {
                var oldScore = parseInt($(this).siblings('.score').text());
                if (oldScore>0) {
                  oldScore = oldScore - 1;
                }
                $(this).siblings('.score').text(oldScore);
              });

            });
        </script>
    </head>
    <body>
        <div id="home">
            <div class="toolbar">
                <h1>World Clock</h1>
                <a href="#info" class="button leftButton flip">Info</a>
                <a href="#add" class="button add slideup">+</a>
            </div>
            <ul id="games" class="metal">
              <li class="arrow"><a href="#cribbage">Cribbage</a></li>
            </ul>
        </div>
        <div id="cribbage">
          <div class="toolbar">
            <h1>Cribbage</h1>
          </div>
          <ul id="players" class="metal">
            <li id="player1"><span class="player">Hilary</span> - <span class="score">0</span> <span class="up">+</span><span class="down">-</span></li>
            <li id="player2"><span class="player">Phil</span> - <span class="score">0</span> <span class="up">+</span><span class="down">-</span></li>
          </ul>
          <div id="cribbageBoard">
            
          </div>
        </div>
        <div id="info">
            <div class="toolbar">
                <h1>About</h1>
                <a href="#add" class="cancel">Cancel</a>
            </div>
            <div class="info">
                This is a demo for jQTouch.
            </div>
        </div>
    </body>
</html>
